<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .profilebtn {
            width: 1000px;
            margin: 50px auto 50px auto;
        }


        #container {

            width: 1200px;
            height: 400px;

            margin: 0 auto;
            /* container 영역을 브라우저에서 가운데 정렬하기 위해 auto설정 */
            text-align: center;
            /* inline-block화 된 div들을 텍스트 마냥 center로 정렬*/
        }

        #leftphoto {
            height: 400px;
            width: 300px;
            border-radius: 10px;
            border: 3px solid red;
            margin: 0px 100px 0px 100px;

            background-image: url('');
            background-position: center;
            background-size: cover;
        }

        #rightcontent {
            height: 400px;
            width: 500px;
            border-radius: 10px;
            border: 3px solid yellow;
        }

        .cardss {
            float: left;
        }
    </style>

    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBeVMK_16_YHNW2TV0StZapwE2QBxCyU8w",
            authDomain: "sparta-52b36.firebaseapp.com",
            projectId: "sparta-52b36",
            storageBucket: "sparta-52b36.appspot.com",
            messagingSenderId: "372697896610",
            appId: "1:372697896610:web:576940d24eda69bcd0e9fb",
            measurementId: "G-36C6JDYY54"
        };


        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        $("#addmembers").click(async function () { //클릭을 동적으로 만들어주는 행위가 필요하다
            let selfie = $('#selfie').val();         //스크립트의 타입이 모듈로 바뀌면 onclick같은게 작동안됨
            let name = $('#name').val();
            let mbti = $('#mbti').val();
            let advant = $('#advant').val();
            let coorper = $('#coorper').val();

            let doc = {
                'selfie': selfie,
                'name': name,
                'mbti': mbti,
                'advant': advant,
                'coorper': coorper
            };
            await addDoc(collection(db, "teams"), doc);
            alert('저장 완료!');
            window.location.reload();
        })


        //팀원 추가 버튼으로 추가했을 시
        $("#addmembers").click(async function () {
            let selfie = $('#selfie').val();
            let name = $('#name').val();
            let mbti = $('#mbti').val();
            let advant = $('#advant').val();
            let coorper = $('#coorper').val();

            let doc = {
                'selfie': selfie,
                'name': name,
                'mbti': mbti,
                'advant': advant,
                'coorper': coorper
            };

            await addDoc(collection(db, "teams"), doc);
            alert('저장 완료!');
            window.location.reload();
        })

        $("#openProfile1").click(async function () {
            $('#profileCard').toggle();
        })
        $("#openProfile2").click(async function () {
            $('#profileCard').toggle();
        })
        $("#openProfile3").click(async function () {
            $('#profileCard').toggle();
        })

        let docs = await getDocs(collection(db, "teams"));
        docs.forEach((doc) => {
            let row = doc.data();
            console.log(row);
        }); 
    </script>
</head>

<body>
    <div>
        <div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="selfie" placeholder="자기사진">
                <label for="floatingInput">자기사진</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="name" placeholder="이름">
                <label for="floatingInput">이름</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="mbti" placeholder="MBTI 및 성격">
                <label for="floatingInput">MBTI 및 성격</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="advent" placeholder="장점">
                <label for="floatingInput">장점</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="coorper" placeholder="협업스타일">
                <label for="floatingInput">협업스타일</label>
            </div>
        </div>

        <div>
            <button id="addmembers" type="button" class="btn btn-dark">기록하기</button>
        </div>
    </div>

    <hr class="featurette-divider"> <!-- 구분 선 추가-->

    <div class="container marketing">

        <div class="row">
            <div class="col-lg-4">
                <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="" role="img"
                    aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
                    <title>Placeholder</title>
                    <img src="https://i.namu.wiki/i/4s3bbOPnY-0HXEtBxffkVsXiHtO99_WEiZkRqZOQANhzP7z7E1cC5OhapM4Kf2W0ZBygVOohoAUvsx15QakMRj_ywPuHd2s66M2vg6hTV7LFH2Wc1nlhmEH_rQCKFkRUUeyPMRRrC58ipZ4NLbm25g.webp"
                        class="card-img-top" alt="...">
                    <rect width="100%" height="100%" fill="var(--bs-secondary-color)"></rect>
                </svg>
                <h2 class="fw-normal">장민우</h2>
                <p>빛의 속도로 차여본적 있나?</p>
                <p><a id="openProfile1" class="btn btn-secondary" href="#">프로필 보기 »</a></p>
            </div>
            <div class="col-lg-4">
                <svg class="bd-placeholder-img rounded-circle" width="140" height="140"
                    xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder"
                    preserveAspectRatio="xMidYMid slice" focusable="false">
                    <title>Placeholder</title>
                    <img src="https://i.namu.wiki/i/Zg22pYYSET-xS15bDt0Z3lI4uJVYr4rLznwEGFR1-QQMHUkOZg5cjHT-ojcz7iQMzQVi4nriujgjaV-7nnLbW-MBWzAzuhDvTmbrpIBnevTA4QBs5z3cIwp5tLJSUawxtz34skLqK_kInKP48Nf2_w.webp"
                        class="card-img-top" alt="...">
                    <rect width="100%" height="100%" fill="var(--bs-secondary-color)"></rect>
                </svg>
                <h2 class="fw-normal">정다운</h2>
                <p>극단적인 정의는··· 때론 사람을 광기로 몰아세우지.</p>
                <p><a id="openProfile2" class="btn btn-secondary" href="#">프로필 보기 »</a></p>
            </div>
            <div class="col-lg-4">
                <svg class="bd-placeholder-img rounded-circle" width="140" height="140"
                    xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder"
                    preserveAspectRatio="xMidYMid slice" focusable="false">
                    <title>Placeholder</title>
                    <img src="https://i.namu.wiki/i/J6RZ5JlOBR4rbQV_j7lvwACwIyWk_PI3B1TOAuY1TQ9Js4XkiLrinyDVhfUCbpVREhjcA1G1oFPLS1NCImTMM_ukwrFLPZ_QyD-J8KYVDfffSH_CHy9KdP-aOy3R32OwhPXjEw6Rhu9_Uh7vmFrVWQ.webp"
                        class="card-img-top" alt="...">
                    <rect width="100%" height="100%" fill="var(--bs-secondary-color)"></rect>
                </svg>
                <h2 class="fw-normal">백현욱</h2>
                <p>그 녀석은 그냥... 쓰레기다.</p>
                <p><a id="openProfile3" class="btn btn-secondary" href="#">프로필 보기 »</a></p>
            </div>
        </div><!-- /.row -->

        <hr class="featurette-divider"> <!-- 구분 선 추가-->

        <div id="profileCard" class="row featurette">
            <div class="col-md-5 order-md-1">
                <!-- 프로필 버튼 누르면 띄울 자기 사진-->
                <img src="https://i.postimg.cc/C1h5sjYQ/11.jpg" class="card-img-top" alt="...">
            </div>

            <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading fw-normal lh-1">Oh yeah, it’s that good. <span
                        class="text-body-secondary">See for yourself.</span></h2>

                <p class="lead">
                <h3>이름 :</h3>
                <h3>나의 MBTI 및 성격 :</h3>
                <h3>나의 장점 :</h3>
                <h3>나의 협업스타일 :</h3>
                </p>
            </div>

        </div>

        <hr class="featurette-divider">
    </div>


</body>